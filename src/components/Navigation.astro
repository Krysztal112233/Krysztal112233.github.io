---
import { getConfig } from "../config.ts";

import N from "./NavigationItem.astro";
import I from "./IconButton.astro";
import NF from "./NavigationFolder.astro";

interface Props {
    title: string;
}

const { navi } = await getConfig();

const { title }: Props = Astro.props;
---

<div
    class="navbar fixed top-4 right-4 left-4 z-50 mx-auto w-[calc(100%-2rem)] max-w-7xl rounded-2xl bg-contain shadow-sm backdrop-blur-md"
>
    <div class="flex-1">
        <a
            class="btn btn-ghost text-xl italic"
            href="/"
            style="font-family: Victor Mono; font-display: swap;"
        >
            {title}
        </a>
    </div>

    <NF>
        {
            navi.map(({ icon, href, label }) => {
                if (label === undefined) {
                    return <I icon={icon} href={href} />;
                } else {
                    return <N href={href} label={label} icon={icon} />;
                }
            })
        }
    </NF>
</div>
